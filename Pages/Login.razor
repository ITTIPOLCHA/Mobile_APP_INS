@page "/login"
@using System.ComponentModel.DataAnnotations
@layout LoginLayout

@inject NavigationManager NavManager

<div class="login-container"> <div class="login-box">   <h3>Login</h3>
        
        <div class="form-group">
            <label>Username</label>
            <input type="text" class="form-control" @bind="loginModel.username" placeholder="Enter username" />
        </div>

        <div class="form-group">
            <label>Password</label>
            <input type="password" class="form-control" @bind="loginModel.password" placeholder="Enter password" />
        </div>

        <button class="btn btn-primary" @onclick="HandleLogin">Login</button>
        
        @* @if (!string.IsNullOrEmpty(loginModel.))
        {
            <div class="alert alert-danger mt-3">@loginModel.ErrorMessage</div>
        } *@
    </div>
</div>
@code {
    private LoginModel loginModel = new LoginModel();

    private void HandleLogin()
    {
        // TODO: ยิง API ตรวจสอบ Login จริงตรงนี้
        Console.WriteLine($"Login ด้วย: {loginModel.username}");

        // สมมติว่าผ่าน ให้เด้งไปหน้าแรก
        NavManager.NavigateTo("/");
    }

    // Class สำหรับรับค่าจากฟอร์ม
    public class LoginModel
    {
        [Required(ErrorMessage = "กรุณาระบุ Username")]
        public string username { get; set; }

        [Required(ErrorMessage = "กรุณาระบุ Password")]
        public string password { get; set; }
    }
}